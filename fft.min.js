var FFTJS=function(){function f(){console.log("in init");try{a=new webkitAudioContext}catch(b){alert("you need webaudio support"+b)}}function g(b){f();var g=a.createMediaStreamSource(b);c=a.createAnalyser(),c.fftSize=d,g.connect(c),e=!0}API={};var a,c,d,e=!1;API.setup=function(){return e},API.init=function(a){d=a,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia({audio:!0},g,h)},API.fft=function(){if(API.setup()){var a=new Uint8Array(c.frequencyBinCount);return c.getByteFrequencyData(a),a}return[]};var h=function(a){console.log("The following error occured: "+a)};return API};
